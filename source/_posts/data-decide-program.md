title: 算法--数据结构决定程序结构
date: 2015-11-04 23:07:32
tags: algorithm
---

可能大家都看到过或自己曾写过下面类似的代码：
```javascript
if(i == 1) c++;
if(i == 2) c++;
.....
if(i == 500) c++;
```

虽然这些程序也能完成一些复杂的任务，但只能算是重复的运算罢了。
我们现在多少人应该可以立即意识到，**可以用一个有500个元素的数组代替500个独立的 变量**。

我们来看一道程序：
```javascript
if(income <= 2200)
    tax = 0;
else if(income <= 2700)
    tax = .14 * (income-2200);
else if(income <= 3200)
    tax = 70 + .15 * (income-2700)
else if(income <= 3700)
    tax = 145 + .16 * (income - 3200)
else if(income < = 4200)
   tax = 225 + .17 * (income - 3700)
........
.........
```

（改进代码----数据结构很重要）这里假定 25个if语句。。。。
```javascript
var n = 25,
      ret = [], 
      arr1=[],
      arr2=[0,0],
      i = 0;
// ret, arr1, arr2 用来存生成的数据用

for(;i<n;i++){
  ret[ret.length] = 2200 + i*500;
}
console.log(ret)    
// [2200, 2700, 3200, 3700, 4200, 4700, 5200, 5700, 6200, 6700, 7200, 7700, 8200, 8700, 9200, 9700, 10200, 10700, 11200, 11700, 12200, 12700, 13200, 13700, 14200]

for(i = 0;i< n;i++){
   arr1[arr1.length] = 14 * (i == 0 ? 0 : 1) + 1 * (i-1 < 0 ? 0 : i-1);
}
console.log(arr1)
//  [0, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37]

for(i = 2;i<n-2;i++){
    arr2[arr2.length] = arr2[arr2.length-1] + 70+5*(i-2);
}
console.log(arr2)   
//[0, 0, 70, 145, 225, 310, 400, 495, 595, 700, 810, 925, 1045, 1170, 1300, 1435, 1575, 1720, 1870, 2025, 2185, 2350, 2520]

function cal(income){
    var i = 0;
   for(;i<n;i++){
     if(income <= ret[i]){
        break;
     }
   }
   return arr2[i] + arr1[i] * (income - ret[i-1]);
}

cal(2900);    //  100
```

所以JAVA的同学们，请尽量满足我们把  =..=~!!
